!function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(C){"use strict";var p=["sanitize","whiteList","sanitizeFn"],l=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,a=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function m(e,t){var i=e.nodeName.toLowerCase();if(-1!==C.inArray(i,t))return-1===C.inArray(i,l)||Boolean(e.nodeValue.match(r)||e.nodeValue.match(a));for(var s=C(t).filter(function(e,t){return t instanceof RegExp}),n=0,o=s.length;n<o;n++)if(i.match(s[n]))return!0;return!1}function H(e,t,i){if(i&&"function"==typeof i)return i(e);for(var s=Object.keys(t),n=0,o=e.length;n<o;n++)for(var l=e[n].querySelectorAll("*"),r=0,a=l.length;r<a;r++){var c=l[r],p=c.nodeName.toLowerCase();if(-1!==s.indexOf(p))for(var h=[].slice.call(c.attributes),d=[].concat(t["*"]||[],t[p]||[]),u=0,f=h.length;u<f;u++){var g=h[u];m(g,d)||c.removeAttribute(g.nodeName)}else c.parentNode.removeChild(c)}}"classList"in document.createElement("_")||function(e){if("Element"in e){var t="classList",i="prototype",s=e.Element[i],n=Object,o=function(){var i=C(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),i.removeClass(e)},toggle:function(e,t){return i.toggleClass(e,t)},contains:function(e){return i.hasClass(e)}}};if(n.defineProperty){var l={get:o,enumerable:!0,configurable:!0};try{n.defineProperty(s,t,l)}catch(e){void 0!==e.number&&-2146823252!==e.number||(l.enumerable=!1,n.defineProperty(s,t,l))}}else n[i].__defineGetter__&&s.__defineGetter__(t,o)}}(window);var e,c,t,i=document.createElement("_");if(i.classList.add("c1","c2"),!i.classList.contains("c2")){var s=DOMTokenList.prototype.add,n=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,s.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,n.bind(this))}}if(i.classList.toggle("c3",!1),i.classList.contains("c3")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:o.call(this,e)}}function S(e){var t,i=[],s=e.selectedOptions;if(e.multiple)for(var n=0,o=s.length;n<o;n++)t=s[n],i.push(t.value||t.text);else i=e.value;return i}i=null,String.prototype.startsWith||(e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),c={}.toString,t=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==c.call(e))throw new TypeError;var i=t.length,s=String(e),n=s.length,o=1<arguments.length?arguments[1]:void 0,l=o?Number(o):0;l!=l&&(l=0);var r=Math.min(Math.max(l,0),i);if(i<n+r)return!1;for(var a=-1;++a<n;)if(t.charCodeAt(r+a)!=s.charCodeAt(a))return!1;return!0},e?e(String.prototype,"startsWith",{value:t,configurable:!0,writable:!0}):String.prototype.startsWith=t),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")||Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var h={useDefault:!1,_set:C.valHooks.select.set};C.valHooks.select.set=function(e,t){return t&&!h.useDefault&&C(e).data("selected",!0),h._set.apply(this,arguments)};var O=null,d=function(){try{return new Event("change"),!0}catch(e){return!1}}();function y(e,t,i,s){for(var n=["content","subtext","tokens"],o=!1,l=0;l<n.length;l++){var r=n[l],a=e[r];if(a&&(a=a.toString(),"content"===r&&(a=a.replace(/<[^>]+>/g,"")),s&&(a=b(a)),a=a.toUpperCase(),o="contains"===i?0<=a.indexOf(t):a.startsWith(t)))break}return o}function T(e){return parseInt(e,10)||0}C.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(d?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var u={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},f=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,g=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function v(e){return u[e]}function b(e){return(e=e.toString())&&e.replace(f,v).replace(g,"")}var x,w,k,I,$,j=(x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w=function(e){return x[e]},k="(?:"+Object.keys(x).join("|")+")",I=RegExp(k),$=RegExp(k,"g"),function(e){return e=null==e?"":""+e,I.test(e)?e.replace($,w):e}),E={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},D={success:!1,major:"3"};try{D.full=(C.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),D.major=D.full[0],D.success=!0}catch(e){console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e)}var L=0,P=".bs.select",W={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title"},A={MENU:"."+W.MENU};"4"===D.major&&(W.DIVIDER="dropdown-divider",W.SHOW="show",W.BUTTONCLASS="btn-light",W.POPOVERHEADER="popover-header");var _={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};_.a.setAttribute("role","option"),_.subtext.className="text-muted",_.text=_.span.cloneNode(!1),_.text.className="text";var z=new RegExp("38|40"),N=new RegExp("^9$|27"),q=function(e,t,i){var s=_.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?s.appendChild(e):s.innerHTML=e),void 0!==t&&""!==t&&(s.className=t),null!=i&&s.classList.add("optgroup-"+i),s},M=function(e,t,i){var s=_.a.cloneNode(!0);return e&&(11===e.nodeType?s.appendChild(e):s.insertAdjacentHTML("beforeend",e)),void 0!==t&&""!==t&&(s.className=t),"4"===D.major&&s.classList.add("dropdown-item"),i&&s.setAttribute("style",i),s},F=function(e,t){var i,s,n=_.text.cloneNode(!1);if(e.optionContent)n.innerHTML=e.optionContent;else{if(n.textContent=e.text,e.optionIcon){var o=_.whitespace.cloneNode(!1);(s=(!0===t?_.i:_.span).cloneNode(!1)).className=e.iconBase+" "+e.optionIcon,_.fragment.appendChild(s),_.fragment.appendChild(o)}e.optionSubtext&&((i=_.subtext.cloneNode(!1)).textContent=e.optionSubtext,n.appendChild(i))}if(!0===t)for(;0<n.childNodes.length;)_.fragment.appendChild(n.childNodes[0]);else _.fragment.appendChild(n);return _.fragment},V=function(e){var t,i,s=_.text.cloneNode(!1);if(s.innerHTML=e.labelEscaped,e.labelIcon){var n=_.whitespace.cloneNode(!1);(i=_.span.cloneNode(!1)).className=e.iconBase+" "+e.labelIcon,_.fragment.appendChild(i),_.fragment.appendChild(n)}return e.labelSubtext&&((t=_.subtext.cloneNode(!1)).textContent=e.labelSubtext,s.appendChild(t)),_.fragment.appendChild(s),_.fragment},R=function(e,t){var i=this;h.useDefault||(C.valHooks.select.set=h._set,h.useDefault=!0),this.$element=C(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=t,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var s=this.options.windowPadding;"number"==typeof s&&(this.options.windowPadding=[s,s,s,s]),this.val=R.prototype.val,this.render=R.prototype.render,this.refresh=R.prototype.refresh,this.setStyle=R.prototype.setStyle,this.selectAll=R.prototype.selectAll,this.deselectAll=R.prototype.deselectAll,this.destroy=R.prototype.destroy,this.remove=R.prototype.remove,this.show=R.prototype.show,this.hide=R.prototype.hide,this.init()};function G(e){var r,a=arguments,c=e;if([].shift.apply(a),!D.success){try{D.full=(C.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(e){D.full=R.BootstrapVersion.split(" ")[0].split(".")}D.major=D.full[0],D.success=!0,"4"===D.major&&(W.DIVIDER="dropdown-divider",W.SHOW="show",W.BUTTONCLASS="btn-light",R.DEFAULTS.style=W.BUTTONCLASS="btn-light",W.POPOVERHEADER="popover-header")}var t=this.each(function(){var e=C(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof c&&c;if(t){if(i)for(var s in i)i.hasOwnProperty(s)&&(t.options[s]=i[s])}else{var n=e.data();for(var o in n)n.hasOwnProperty(o)&&-1!==C.inArray(o,p)&&delete n[o];var l=C.extend({},R.DEFAULTS,C.fn.selectpicker.defaults||{},n,i);l.template=C.extend({},R.DEFAULTS.template,C.fn.selectpicker.defaults?C.fn.selectpicker.defaults.template:{},n.template,i.template),e.data("selectpicker",t=new R(this,l))}"string"==typeof c&&(r=t[c]instanceof Function?t[c].apply(t,a):t.options[c])}});return void 0!==r?r:t}R.VERSION="1.13.7",R.BootstrapVersion=D.major,R.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:W.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},"4"===D.major&&(R.DEFAULTS.style="btn-light",R.DEFAULTS.iconBase="",R.DEFAULTS.tickIcon="bs-ok-default"),R.prototype={constructor:R,init:function(){var i=this,e=this.$element.attr("id");this.selectId=L++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(A.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(W.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+P,function(){if(i.isVirtual()){var e=i.$menuInner[0],t=e.firstChild.cloneNode(!1);e.replaceChild(t,e.firstChild),e.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!1),i.$element.trigger("hide"+P,e)},"hidden.bs.dropdown":function(e){i.$element.trigger("hidden"+P,e)},"show.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!0),i.$element.trigger("show"+P,e)},"shown.bs.dropdown":function(e){i.$element.trigger("shown"+P,e)}}),i.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){i.$button[0].classList.add("bs-invalid"),i.$element.on("shown"+P+".invalid",function(){i.$element.val(i.$element.val()).off("shown"+P+".invalid")}).on("rendered"+P,function(){this.validity.valid&&i.$button[0].classList.remove("bs-invalid"),i.$element.off("rendered"+P)}),i.$button.on("blur"+P,function(){i.$element.trigger("focus").trigger("blur"),i.$button.off("blur"+P)})}),setTimeout(function(){i.createLi(),i.$element.trigger("loaded"+P)})},createDropdown:function(){var e,t=this.multiple||this.options.showTick?" show-tick":"",i=this.autofocus?" autofocus":"",s="",n="",o="",l="";return this.options.header&&(s='<div class="'+W.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(n='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+j(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(o='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+W.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+W.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+W.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),e='<div class="dropdown bootstrap-select'+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===D.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+W.MENU+" "+("4"===D.major?"":W.SHOW)+'" role="combobox">'+s+n+o+'<div class="inner '+W.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+W.MENU+" inner "+("4"===D.major?W.SHOW:"")+'"></ul></div>'+l+"</div></div>",C(e)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(D,e){e=e||0;var A=this;this.selectpicker.current=D?this.selectpicker.search:this.selectpicker.main;var z,N,R=[];function i(e,t){var i,s,n,o,l,r,a,c,p,h,d=A.selectpicker.current.elements.length,u=[],f=!0,g=A.isVirtual();A.selectpicker.view.scrollTop=e,!0===g&&A.sizeInfo.hasScrollBar&&A.$menu[0].offsetWidth>A.sizeInfo.totalMenuWidth&&(A.sizeInfo.menuWidth=A.$menu[0].offsetWidth,A.sizeInfo.totalMenuWidth=A.sizeInfo.menuWidth+A.sizeInfo.scrollBarWidth,A.$menu.css("min-width",A.sizeInfo.menuWidth)),i=Math.ceil(A.sizeInfo.menuInnerHeight/A.sizeInfo.liHeight*1.5),s=Math.round(d/i)||1;for(var m=0;m<s;m++){var v=(m+1)*i;if(m===s-1&&(v=d),u[m]=[m*i+(m?1:0),v],!d)break;void 0===l&&e<=A.selectpicker.current.data[v-1].position-A.sizeInfo.menuInnerHeight&&(l=m)}if(void 0===l&&(l=0),r=[A.selectpicker.view.position0,A.selectpicker.view.position1],n=Math.max(0,l-1),o=Math.min(s-1,l+1),A.selectpicker.view.position0=Math.max(0,u[n][0])||0,A.selectpicker.view.position1=Math.min(d,u[o][1])||0,a=r[0]!==A.selectpicker.view.position0||r[1]!==A.selectpicker.view.position1,void 0!==A.activeIndex&&(N=A.selectpicker.current.elements[A.selectpicker.current.map.newIndex[A.prevActiveIndex]],R=A.selectpicker.current.elements[A.selectpicker.current.map.newIndex[A.activeIndex]],z=A.selectpicker.current.elements[A.selectpicker.current.map.newIndex[A.selectedIndex]],t&&(A.activeIndex!==A.selectedIndex&&R&&R.length&&(R.classList.remove("active"),R.firstChild&&R.firstChild.classList.remove("active")),A.activeIndex=void 0),A.activeIndex&&A.activeIndex!==A.selectedIndex&&z&&z.length&&(z.classList.remove("active"),z.firstChild&&z.firstChild.classList.remove("active"))),void 0!==A.prevActiveIndex&&A.prevActiveIndex!==A.activeIndex&&A.prevActiveIndex!==A.selectedIndex&&N&&N.length&&(N.classList.remove("active"),N.firstChild&&N.firstChild.classList.remove("active")),(t||a)&&(c=A.selectpicker.view.visibleElements?A.selectpicker.view.visibleElements.slice():[],A.selectpicker.view.visibleElements=A.selectpicker.current.elements.slice(A.selectpicker.view.position0,A.selectpicker.view.position1),A.setOptionStatus(),(D||!1===g&&t)&&(p=c,h=A.selectpicker.view.visibleElements,f=!(p.length===h.length&&p.every(function(e,t){return e===h[t]}))),(t||!0===g)&&f)){var b,x,w=A.$menuInner[0],k=document.createDocumentFragment(),I=w.firstChild.cloneNode(!1),y=!0===g?A.selectpicker.view.visibleElements:A.selectpicker.current.elements,$=[];w.replaceChild(I,w.firstChild),m=0;for(var S=y.length;m<S;m++){var O,E,L=y[m];A.options.sanitize&&(O=L.lastChild)&&(E=A.selectpicker.current.data[m+A.selectpicker.view.position0].data)&&E.content&&!E.sanitized&&($.push(O),E.sanitized=!0),k.appendChild(L)}A.options.sanitize&&$.length&&H($,A.options.whiteList,A.options.sanitizeFn),!0===g&&(b=0===A.selectpicker.view.position0?0:A.selectpicker.current.data[A.selectpicker.view.position0-1].position,x=A.selectpicker.view.position1>d-1?0:A.selectpicker.current.data[d-1].position-A.selectpicker.current.data[A.selectpicker.view.position1-1].position,w.firstChild.style.marginTop=b+"px",w.firstChild.style.marginBottom=x+"px"),w.firstChild.appendChild(k)}if(A.prevActiveIndex=A.activeIndex,A.options.liveSearch){if(D&&t){var C,T=0;A.selectpicker.view.canHighlight[T]||(T=1+A.selectpicker.view.canHighlight.slice(1).indexOf(!0)),C=A.selectpicker.view.visibleElements[T],A.selectpicker.view.currentActive&&(A.selectpicker.view.currentActive.classList.remove("active"),A.selectpicker.view.currentActive.firstChild&&A.selectpicker.view.currentActive.firstChild.classList.remove("active")),C&&(C.classList.add("active"),C.firstChild&&C.firstChild.classList.add("active")),A.activeIndex=A.selectpicker.current.map.originalIndex[T]}}else A.$menuInner.trigger("focus")}this.setPositionData(),i(e,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){A.noScroll||i(this.scrollTop,t),A.noScroll=!1}),C(window).off("resize"+P+"."+this.selectId+".createView").on("resize"+P+"."+this.selectId+".createView",function(){A.$newElement.hasClass(W.SHOW)&&i(A.$menuInner[0].scrollTop)})},setPlaceholder:function(){var e=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=!0;var t=this.$element[0],i=!1,s=!this.selectpicker.view.titleOption.parentNode;s&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",i=void 0===C(t.options[t.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),(s||0!==this.selectpicker.view.titleOption.index)&&t.insertBefore(this.selectpicker.view.titleOption,t.firstChild),i&&(t.selectedIndex=0)}return e},createLi:function(){var e,t,i=this,s=i.options.iconBase,n=':not([hidden]):not([data-hidden="true"])',o=[],l=0,r=[],a=0,c=0,p=-1;this.options.hideDisabled&&(n+=":not(:disabled)"),(i.options.showTick||i.multiple)&&((e=_.span.cloneNode(!1)).className=s+" "+i.options.tickIcon+" check-mark",_.a.appendChild(e)),this.setPlaceholder()&&p--;for(var h=this.$element[0].options,d=0,u=h.length;d<u;d++){var f=h[d];if(p++,!f.classList.contains("bs-title-option")){var g,m,v,b,x={content:f.getAttribute("data-content"),tokens:f.getAttribute("data-tokens"),subtext:f.getAttribute("data-subtext"),icon:f.getAttribute("data-icon"),hidden:"true"===f.getAttribute("data-hidden"),divider:"true"===f.getAttribute("data-divider")},w=f.className||"",k=f.style.cssText,I=k?j(k):"",y=x.content,$=f.textContent,S=f.parentNode,O=f.nextElementSibling,E=f.previousElementSibling,L="OPTGROUP"===S.tagName,C=L&&S.disabled,T=f.disabled||C,D=E&&"OPTGROUP"===E.tagName,A={hidden:"true"===S.getAttribute("data-hidden")};if(!0===x.hidden||f.hidden||L&&(!0===A.hidden||S.hidden)||i.options.hideDisabled&&(T||C))g=f.prevHiddenIndex,O&&(O.prevHiddenIndex=void 0!==g?g:d),p--;else{if(O&&void 0!==O.prevHiddenIndex&&(O.prevHiddenIndex=void 0),L&&!0!==x.divider){var z=" "+S.className||"",N=f.previousElementSibling;if(void 0!==(g=f.prevHiddenIndex)&&(N=h[g].previousElementSibling),!N){a+=1,A.subtext=S.getAttribute("data-subtext"),A.icon=S.getAttribute("data-icon");var R=S.label,H=j(R),P=A.subtext,G=A.icon;0!==d&&0<o.length&&(p++,o.push(q(!1,W.DIVIDER,a+"div")),r.push({type:"divider",optID:a})),p++,v=V({labelEscaped:H,labelSubtext:P,labelIcon:G,iconBase:s}),o.push(q(v,"dropdown-header"+z,a)),r.push({content:H,subtext:P,type:"optgroup-label",optID:a}),c=p-1}m=F({text:$,optionContent:y,optionSubtext:x.subtext,optionIcon:x.icon,iconBase:s}),o.push(q(M(m,"opt "+w+z,I),"",a)),r.push({content:y||$,subtext:x.subtext,tokens:x.tokens,type:"option",optID:a,headerIndex:c,lastIndex:c+S.querySelectorAll("option"+n).length,originalIndex:d,data:x})}else!0===x.divider?(o.push(q(!1,W.DIVIDER)),r.push({type:"divider",originalIndex:d,data:x})):(i.options.hideDisabled&&(D?E.querySelectorAll("option:disabled").length===E.children.length&&(D=!1):void 0!==(g=f.prevHiddenIndex)&&(b=h[g].previousElementSibling)&&"OPTGROUP"===b.tagName&&!b.disabled&&b.querySelectorAll("option:disabled").length<b.children.length&&(D=!0)),D&&r.length&&"divider"!==r[r.length-1].type&&(p++,o.push(q(!1,W.DIVIDER,a+"div")),r.push({type:"divider",optID:a})),m=F({text:$,optionContent:y,optionSubtext:x.subtext,optionIcon:x.icon,iconBase:s}),o.push(q(M(m,w,I))),r.push({content:y||$,subtext:x.subtext,tokens:x.tokens,type:"option",originalIndex:d,data:x}));i.selectpicker.main.map.newIndex[d]=p,i.selectpicker.main.map.originalIndex[p]=d;var B=r[r.length-1];B.disabled=T;var U=0;B.content&&(U+=B.content.length),B.subtext&&(U+=B.subtext.length),x.icon&&(U+=1),l<U&&(l=U,t=o[o.length-1])}}}this.selectpicker.main.elements=o,this.selectpicker.main.data=r,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=t},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var e,t,i=this,s=this.$element[0].selectedOptions,n=s.length,o=this.$button[0],l=o.querySelector(".filter-option-inner-inner"),r=document.createTextNode(this.options.multipleSeparator),a=_.fragment.cloneNode(!1),c=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)a=F({text:this.options.title},!0);else if((e=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&1<n)&&(e=1<(t=this.options.selectedTextFormat.split(">")).length&&n>t[1]||1===t.length&&2<=n),!1===e){for(var p=0;p<n&&p<50;p++){var h=s[p],d={},u={content:h.getAttribute("data-content"),subtext:h.getAttribute("data-subtext"),icon:h.getAttribute("data-icon")};this.multiple&&0<p&&a.appendChild(r.cloneNode(!1)),h.title?d.text=h.title:u.content&&i.options.showContent?(d.optionContent=u.content.toString(),c=!0):(i.options.showIcon&&(d.optionIcon=u.icon,d.iconBase=this.options.iconBase),i.options.showSubtext&&!i.multiple&&u.subtext&&(d.optionSubtext=" "+u.subtext),d.text=h.textContent.trim()),a.appendChild(F(d,!0))}49<n&&a.appendChild(document.createTextNode("..."))}else{var f=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(f+=":not(:disabled)");var g=this.$element[0].querySelectorAll("select > option"+f+", optgroup"+f+" option"+f).length,m="function"==typeof this.options.countSelectedText?this.options.countSelectedText(n,g):this.options.countSelectedText;a=F({text:m.replace("{0}",n.toString()).replace("{1}",g.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),a.childNodes.length||(a=F({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),o.title=a.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&c&&H([a],i.options.whiteList,i.options.sanitizeFn),l.innerHTML="",l.appendChild(a),D.major<4&&this.$newElement[0].parentNode.classList.contains("input-group")){var v=o.querySelector(".filter-expand"),b=l.cloneNode(!0);b.className="filter-expand",v?o.replaceChild(b,v):o.appendChild(b)}this.$element.trigger("rendered"+P)},setStyle:function(e,t){var i,s=this.$button[0],n=this.options.style.split(" ");this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),D.major<4&&this.$newElement[0].classList.add("bs3"),i=e?e.split(" "):n,"add"==t?s.classList.add.apply(s.classList,i):"remove"==t?s.classList.remove.apply(s.classList,i):(s.classList.remove.apply(s.classList,n),s.classList.add.apply(s.classList,i))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var t=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),n=document.createElement("ul"),o=document.createElement("li"),l=document.createElement("li"),r=document.createElement("li"),a=document.createElement("a"),c=document.createElement("span"),p=this.options.header&&0<this.$menu.find("."+W.POPOVERHEADER).length?this.$menu.find("."+W.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,d=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,f=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",a.className="dropdown-item "+(f?f.className:""),t.className=this.$menu[0].parentNode.className+" "+W.SHOW,t.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(i.style.minWidth=0),i.className=W.MENU+" "+W.SHOW,s.className="inner "+W.SHOW,n.className=W.MENU+" inner "+("4"===D.major?W.SHOW:""),o.className=W.DIVIDER,l.className="dropdown-header",c.appendChild(document.createTextNode("​")),a.appendChild(c),r.appendChild(a),l.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&n.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),n.appendChild(r),n.appendChild(o),n.appendChild(l),p&&i.appendChild(p),h){var g=document.createElement("input");h.className="bs-searchbox",g.className="form-control",h.appendChild(g),i.appendChild(h)}d&&i.appendChild(d),s.appendChild(n),i.appendChild(s),u&&i.appendChild(u),t.appendChild(i),document.body.appendChild(t);var m,v=a.offsetHeight,b=l?l.offsetHeight:0,x=p?p.offsetHeight:0,w=h?h.offsetHeight:0,k=d?d.offsetHeight:0,I=u?u.offsetHeight:0,y=C(o).outerHeight(!0),$=!!window.getComputedStyle&&window.getComputedStyle(i),S=i.offsetWidth,O=$?null:C(i),E={vert:T($?$.paddingTop:O.css("paddingTop"))+T($?$.paddingBottom:O.css("paddingBottom"))+T($?$.borderTopWidth:O.css("borderTopWidth"))+T($?$.borderBottomWidth:O.css("borderBottomWidth")),horiz:T($?$.paddingLeft:O.css("paddingLeft"))+T($?$.paddingRight:O.css("paddingRight"))+T($?$.borderLeftWidth:O.css("borderLeftWidth"))+T($?$.borderRightWidth:O.css("borderRightWidth"))},L={vert:E.vert+T($?$.marginTop:O.css("marginTop"))+T($?$.marginBottom:O.css("marginBottom"))+2,horiz:E.horiz+T($?$.marginLeft:O.css("marginLeft"))+T($?$.marginRight:O.css("marginRight"))+2};s.style.overflowY="scroll",m=i.offsetWidth-S,document.body.removeChild(t),this.sizeInfo.liHeight=v,this.sizeInfo.dropdownHeaderHeight=b,this.sizeInfo.headerHeight=x,this.sizeInfo.searchHeight=w,this.sizeInfo.actionsHeight=k,this.sizeInfo.doneButtonHeight=I,this.sizeInfo.dividerHeight=y,this.sizeInfo.menuPadding=E,this.sizeInfo.menuExtras=L,this.sizeInfo.menuWidth=S,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=m,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,t=C(window),i=this.$newElement.offset(),s=C(this.options.container);this.options.container&&s.length&&!s.is("body")?((e=s.offset()).top+=parseInt(s.css("borderTopWidth")),e.left+=parseInt(s.css("borderLeftWidth"))):e={top:0,left:0};var n=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-t.scrollTop(),this.sizeInfo.selectOffsetBot=t.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-n[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-t.scrollLeft(),this.sizeInfo.selectOffsetRight=t.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-n[1],this.sizeInfo.selectOffsetTop-=n[0],this.sizeInfo.selectOffsetLeft-=n[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,s,n,o,l,r,a=this.sizeInfo.selectWidth,c=this.sizeInfo.liHeight,p=this.sizeInfo.headerHeight,h=this.sizeInfo.searchHeight,d=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,g=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(r=c*this.selectpicker.current.elements.length+g.vert,this.$newElement.toggleClass(W.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&r+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)n=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,s=n+p+h+d+u,l=Math.max(n-g.vert,0),this.$newElement.hasClass(W.DROPUP)&&(i=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),t=(o=i)-p-h-d-u-g.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var v=0;v<this.options.size;v++)"divider"===this.selectpicker.current.data[v].type&&m++;t=(i=c*this.options.size+m*f+g.vert)-g.vert,o=i+p+h+d+u,s=l=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(W.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-a),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":s+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":l+"px"}),this.sizeInfo.menuInnerHeight=Math.max(t,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var t,i=this,s=C(window),n=0;this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()}),"auto"===this.options.size?s.off("resize"+P+"."+this.selectId+".setMenuSize scroll"+P+"."+this.selectId+".setMenuSize").on("resize"+P+"."+this.selectId+".setMenuSize scroll"+P+"."+this.selectId+".setMenuSize",function(){return i.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&s.off("resize"+P+"."+this.selectId+".setMenuSize scroll"+P+"."+this.selectId+".setMenuSize"),e?n=this.$menuInner[0].scrollTop:i.multiple||"number"==typeof(t=i.selectpicker.main.map.newIndex[i.$element[0].selectedIndex])&&!1!==i.options.size&&(n=(n=i.sizeInfo.liHeight*t)-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2),i.createView(!1,n)}},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.$element.on("loaded"+P,function(){i.liHeight(),i.setMenuSize();var e=i.$newElement.clone().appendTo("body"),t=e.css("width","auto").children("button").outerWidth();e.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,t),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=C('<div class="bs-container" />');var s,n,o,l=this,r=C(this.options.container),e=function(e){var t={},i=l.options.display||!!C.fn.dropdown.Constructor.Default&&C.fn.dropdown.Constructor.Default.display;l.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(W.DROPUP,e.hasClass(W.DROPUP)),s=e.offset(),r.is("body")?n={top:0,left:0}:((n=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),n.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),o=e.hasClass(W.DROPUP)?0:e[0].offsetHeight,(D.major<4||"static"===i)&&(t.top=s.top-n.top+o,t.left=s.left-n.left),t.width=e[0].offsetWidth,l.$bsContainer.css(t)};this.$button.on("click.bs.dropdown.data-api",function(){l.isDisabled()||(e(l.$newElement),l.$bsContainer.appendTo(l.options.container).toggleClass(W.SHOW,!l.$button.hasClass(W.SHOW)).append(l.$menu))}),C(window).off("resize"+P+"."+this.selectId+" scroll"+P+"."+this.selectId).on("resize"+P+"."+this.selectId+" scroll"+P+"."+this.selectId,function(){l.$newElement.hasClass(W.SHOW)&&e(l.$newElement)}),this.$element.on("hide"+P,function(){l.$menu.data("height",l.$menu.height()),l.$bsContainer.detach()})},setOptionStatus:function(){var e=this,t=this.$element[0].options;if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var i=0;i<e.selectpicker.view.visibleElements.length;i++){var s=e.selectpicker.current.map.originalIndex[i+e.selectpicker.view.position0],n=t[s];if(n){var o=this.selectpicker.main.map.newIndex[s],l=this.selectpicker.main.elements[o];e.setDisabled(s,n.disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled,o,l),e.setSelected(s,n.selected,o,l)}}},setSelected:function(e,t,i,s){var n,o,l,r=void 0!==this.activeIndex,a=this.activeIndex===e||t&&!this.multiple&&!r;i||(i=this.selectpicker.main.map.newIndex[e]),s||(s=this.selectpicker.main.elements[i]),l=s.firstChild,t&&(this.selectedIndex=e),s.classList.toggle("selected",t),s.classList.toggle("active",a),a&&(this.selectpicker.view.currentActive=s,this.activeIndex=e),l&&(l.classList.toggle("selected",t),l.classList.toggle("active",a),l.setAttribute("aria-selected",t)),a||!r&&t&&void 0!==this.prevActiveIndex&&(n=this.selectpicker.main.map.newIndex[this.prevActiveIndex],(o=this.selectpicker.main.elements[n]).classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active"))},setDisabled:function(e,t,i,s){var n;i||(i=this.selectpicker.main.map.newIndex[e]),s||(s=this.selectpicker.main.elements[i]),n=s.firstChild,s.classList.toggle(W.DISABLED,t),n&&("4"===D.major&&n.classList.toggle(W.DISABLED,t),n.setAttribute("aria-disabled",t),t?n.setAttribute("tabindex",-1):n.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement[0].classList.add(W.DISABLED),this.$button.addClass(W.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(W.DISABLED)&&(this.$newElement[0].classList.remove(W.DISABLED),this.$button.removeClass(W.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,i=-1===t;i||e.options[t].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var $=this,t=C(document);function e(){$.options.liveSearch?$.$searchbox.trigger("focus"):$.$menuInner.trigger("focus")}function i(){$.dropdown&&$.dropdown._popper&&$.dropdown._popper.state.isCreated?e():requestAnimationFrame(i)}t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<D.major&&!$.dropdown&&($.dropdown=$.$button.data("bs.dropdown"),$.dropdown._menu=$.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){$.$newElement.hasClass(W.SHOW)||$.setSize()}),this.$element.on("shown"+P,function(){$.$menuInner[0].scrollTop!==$.selectpicker.view.scrollTop&&($.$menuInner[0].scrollTop=$.selectpicker.view.scrollTop),3<D.major?requestAnimationFrame(i):e()}),this.$menuInner.on("click","li a",function(e,t){var i=C(this),s=$.isVirtual()?$.selectpicker.view.position0:0,n=$.selectpicker.current.map.originalIndex[i.parent().index()+s],o=S($.$element[0]),l=$.$element.prop("selectedIndex"),r=!0;if($.multiple&&1!==$.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!$.isDisabled()&&!i.parent().hasClass(W.DISABLED)){var a=$.$element.find("option"),c=a.eq(n),p=c.prop("selected"),h=c.parent("optgroup"),d=h.find("option"),u=$.options.maxOptions,f=h.data("maxOptions")||!1;if(n===$.activeIndex&&(t=!0),t||($.prevActiveIndex=$.activeIndex,$.activeIndex=void 0),$.multiple){if(c.prop("selected",!p),$.setSelected(n,!p),i.trigger("blur"),!1!==u||!1!==f){var g=u<a.filter(":selected").length,m=f<h.find("option:selected").length;if(u&&g||f&&m)if(u&&1==u){a.prop("selected",!1),c.prop("selected",!0);for(var v=0;v<a.length;v++)$.setSelected(v,!1);$.setSelected(n,!0)}else if(f&&1==f){for(h.find("option:selected").prop("selected",!1),c.prop("selected",!0),v=0;v<d.length;v++){var b=d[v];$.setSelected(a.index(b),!1)}$.setSelected(n,!0)}else{var x="string"==typeof $.options.maxOptionsText?[$.options.maxOptionsText,$.options.maxOptionsText]:$.options.maxOptionsText,w="function"==typeof x?x(u,f):x,k=w[0].replace("{n}",u),I=w[1].replace("{n}",f),y=C('<div class="notify"></div>');w[2]&&(k=k.replace("{var}",w[2][1<u?0:1]),I=I.replace("{var}",w[2][1<f?0:1])),c.prop("selected",!1),$.$menu.append(y),u&&g&&(y.append(C("<div>"+k+"</div>")),r=!1,$.$element.trigger("maxReached"+P)),f&&m&&(y.append(C("<div>"+I+"</div>")),r=!1,$.$element.trigger("maxReachedGrp"+P)),setTimeout(function(){$.setSelected(n,!1)},10),y.delay(750).fadeOut(300,function(){C(this).remove()})}}}else a.prop("selected",!1),c.prop("selected",!0),$.setSelected(n,!0);!$.multiple||$.multiple&&1===$.options.maxOptions?$.$button.trigger("focus"):$.options.liveSearch&&$.$searchbox.trigger("focus"),r&&(o!=S($.$element[0])&&$.multiple||l!=$.$element.prop("selectedIndex")&&!$.multiple)&&(O=[n,c.prop("selected"),o],$.$element.triggerNative("change"))}}),this.$menu.on("click","li."+W.DISABLED+" a, ."+W.POPOVERHEADER+", ."+W.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),$.options.liveSearch&&!C(e.target).hasClass("close")?$.$searchbox.trigger("focus"):$.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),$.options.liveSearch?$.$searchbox.trigger("focus"):$.$button.trigger("focus")}),this.$menu.on("click","."+W.POPOVERHEADER+" .close",function(){$.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){$.options.liveSearch?$.$searchbox.trigger("focus"):$.$button.trigger("focus"),e.preventDefault(),e.stopPropagation(),C(this).hasClass("bs-select-all")?$.selectAll():$.deselectAll()}),this.$element.on({change:function(){$.render(),$.$element.trigger("changed"+P,O),O=null},focus:function(){$.options.mobile||$.$button.trigger("focus")}})},liveSearchListener:function(){var u=this,f=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){u.$searchbox.val()&&u.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var e=u.$searchbox.val();if(u.selectpicker.search.map.newIndex={},u.selectpicker.search.map.originalIndex={},u.selectpicker.search.elements=[],u.selectpicker.search.data=[],e){var t=[],i=e.toUpperCase(),s={},n=[],o=u._searchStyle(),l=u.options.liveSearchNormalize;l&&(i=b(i)),u._$lisSelected=u.$menuInner.find(".selected");for(var r=0;r<u.selectpicker.main.data.length;r++){var a=u.selectpicker.main.data[r];s[r]||(s[r]=y(a,i,o,l)),s[r]&&void 0!==a.headerIndex&&-1===n.indexOf(a.headerIndex)&&(0<a.headerIndex&&(s[a.headerIndex-1]=!0,n.push(a.headerIndex-1)),s[a.headerIndex]=!0,n.push(a.headerIndex),s[a.lastIndex+1]=!0),s[r]&&"optgroup-label"!==a.type&&n.push(r)}r=0;for(var c=n.length;r<c;r++){var p=n[r],h=n[r-1],d=(a=u.selectpicker.main.data[p],u.selectpicker.main.data[h]);("divider"!==a.type||"divider"===a.type&&d&&"divider"!==d.type&&c-1!==r)&&(u.selectpicker.search.data.push(a),t.push(u.selectpicker.main.elements[p]),a.hasOwnProperty("originalIndex")&&(u.selectpicker.search.map.newIndex[a.originalIndex]=t.length-1,u.selectpicker.search.map.originalIndex[t.length-1]=a.originalIndex))}u.activeIndex=void 0,u.noScroll=!0,u.$menuInner.scrollTop(0),u.selectpicker.search.elements=t,u.createView(!0),t.length||(f.className="no-results",f.innerHTML=u.options.noneResultsText.replace("{0}",'"'+j(e)+'"'),u.$menuInner[0].firstChild.appendChild(f))}else u.$menuInner.scrollTop(0),u.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){return void 0!==e?(this.$element.val(e).trigger("changed"+P,O),this.render(),O=null,this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element[0],i=t.options,s=0,n=0,o=S(t);t.classList.add("bs-select-hidden");for(var l=0,r=this.selectpicker.current.elements.length;l<r;l++){var a=this.selectpicker.current.data[l],c=i[this.selectpicker.current.map.originalIndex[l]];c&&!c.disabled&&"divider"!==a.type&&(c.selected&&s++,(c.selected=e)&&n++)}t.classList.remove("bs-select-hidden"),s!==n&&(this.setOptionStatus(),this.togglePlaceholder(),O=[null,null,o],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var t,i,s,n,o,l=C(this),r=l.hasClass("dropdown-toggle"),a=(r?l.closest(".dropdown"):l.closest(A.MENU)).data("this"),c=a.findLis(),p=!1,h=9===e.which&&!r&&!a.options.selectOnTab,d=z.test(e.which)||h,u=a.$menuInner[0].scrollTop,f=a.isVirtual(),g=!0===f?a.selectpicker.view.position0:0;if(!(i=a.$newElement.hasClass(W.SHOW))&&(d||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&(a.$button.trigger("click.bs.dropdown.data-api"),a.options.liveSearch))a.$searchbox.trigger("focus");else{if(27===e.which&&i&&(e.preventDefault(),a.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),d){if(!c.length)return;void 0===(t=!0===f?c.index(c.filter(".active")):a.selectpicker.current.map.newIndex[a.activeIndex])&&(t=-1),-1!==t&&((s=a.selectpicker.current.elements[t+g]).classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),38===e.which?(-1!==t&&t--,t+g<0&&(t+=c.length),a.selectpicker.view.canHighlight[t+g]||-1==(t=a.selectpicker.view.canHighlight.slice(0,t+g).lastIndexOf(!0)-g)&&(t=c.length-1)):(40===e.which||h)&&(++t+g>=a.selectpicker.view.canHighlight.length&&(t=0),a.selectpicker.view.canHighlight[t+g]||(t=t+1+a.selectpicker.view.canHighlight.slice(t+g+1).indexOf(!0))),e.preventDefault();var m=g+t;38===e.which?0===g&&t===c.length-1?(a.$menuInner[0].scrollTop=a.$menuInner[0].scrollHeight,m=a.selectpicker.current.elements.length-1):p=(o=(n=a.selectpicker.current.data[m]).position-n.height)<u:(40===e.which||h)&&(0===t?m=a.$menuInner[0].scrollTop=0:p=u<(o=(n=a.selectpicker.current.data[m]).position-a.sizeInfo.menuInnerHeight)),(s=a.selectpicker.current.elements[m])&&(s.classList.add("active"),s.firstChild&&s.firstChild.classList.add("active")),a.activeIndex=a.selectpicker.current.map.originalIndex[m],a.selectpicker.view.currentActive=s,p&&(a.$menuInner[0].scrollTop=o),a.options.liveSearch?a.$searchbox.trigger("focus"):l.trigger("focus")}else if(!l.is("input")&&!N.test(e.which)||32===e.which&&a.selectpicker.keydown.keyHistory){var v,b,x=[];e.preventDefault(),a.selectpicker.keydown.keyHistory+=E[e.which],a.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(a.selectpicker.keydown.resetKeyHistory.cancel),a.selectpicker.keydown.resetKeyHistory.cancel=a.selectpicker.keydown.resetKeyHistory.start(),b=a.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(b)&&(b=b.charAt(0));for(var w=0;w<a.selectpicker.current.data.length;w++){var k=a.selectpicker.current.data[w];y(k,b,"startsWith",!0)&&a.selectpicker.view.canHighlight[w]&&(k.index=w,x.push(k.originalIndex))}if(x.length){var I=0;c.removeClass("active").find("a").removeClass("active"),1===b.length&&(-1===(I=x.indexOf(a.activeIndex))||I===x.length-1?I=0:I++),v=a.selectpicker.current.map.newIndex[x[I]],p=0<u-(n=a.selectpicker.current.data[v]).position?(o=n.position-n.height,!0):(o=n.position-a.sizeInfo.menuInnerHeight,n.position>u+a.sizeInfo.menuInnerHeight),(s=a.selectpicker.current.elements[v]).classList.add("active"),s.firstChild&&s.firstChild.classList.add("active"),a.activeIndex=x[I],s.firstChild.focus(),p&&(a.$menuInner[0].scrollTop=o),l.trigger("focus")}}i&&(32===e.which&&!a.selectpicker.keydown.keyHistory||13===e.which||9===e.which&&a.options.selectOnTab)&&(32!==e.which&&e.preventDefault(),a.options.liveSearch&&32===e.which||(a.$menuInner.find(".active a").trigger("click",!0),l.trigger("focus"),a.options.liveSearch||(e.preventDefault(),C(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var e=C.extend({},this.options,this.$element.data());this.options=e,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+P)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(P).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),C(window).off(P+"."+this.selectId)}};var B=C.fn.selectpicker;C.fn.selectpicker=G,C.fn.selectpicker.Constructor=R,C.fn.selectpicker.noConflict=function(){return C.fn.selectpicker=B,this},C(document).off("keydown.bs.dropdown.data-api").on("keydown"+P,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',R.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),C(window).on("load"+P+".data-api",function(){C(".selectpicker").each(function(){var e=C(this);G.call(e,e.data())})})}(e)}),function(w,k){var e=function(e,t){var i,s,n=this;t=t||{},this.$element=w(e),this.options=w.extend(!0,{},w.fn.ajaxSelectPicker.defaults,t),this.LOG_ERROR=1,this.LOG_WARNING=2,this.LOG_INFO=3,this.LOG_DEBUG=4,this.lastRequest=!1,this.previousQuery="",this.query="",this.request=!1;var o=[{from:"ajaxResultsPreHook",to:"preprocessData"},{from:"ajaxSearchUrl",to:{ajax:{url:"{{{value}}}"}}},{from:"ajaxOptions",to:"ajax"},{from:"debug",to:function(e){var t={};t.log=Boolean(n.options[e.from])?n.LOG_DEBUG:0,n.options=w.extend(!0,{},n.options,t),delete n.options[e.from],n.log(n.LOG_WARNING,'Deprecated option "'+e.from+'". Update code to use:',t)}},{from:"mixWithCurrents",to:"preserveSelected"},{from:"placeHolderOption",to:{locale:{emptyTitle:"{{{value}}}"}}}];o.length&&w.map(o,function(e){if(n.options[e.from])if(w.isPlainObject(e.to))n.replaceValue(e.to,"{{{value}}}",n.options[e.from]),n.options=w.extend(!0,{},n.options,e.to),n.log(n.LOG_WARNING,'Deprecated option "'+e.from+'". Update code to use:',e.to),delete n.options[e.from];else if(w.isFunction(e.to))e.to.apply(n,[e]);else{var t={};t[e.to]=n.options[e.from],n.options=w.extend(!0,{},n.options,t),n.log(n.LOG_WARNING,'Deprecated option "'+e.from+'". Update code to use:',t),delete n.options[e.from]}});var l=this.$element.data();l.searchUrl&&(n.log(n.LOG_WARNING,'Deprecated attribute name: "data-search-url". Update markup to use: \' data-abs-ajax-url="'+l.searchUrl+"\" '"),this.options.ajax.url=l.searchUrl);var r=function(e,t){return t.toLowerCase()},a=function(e,t,i){var s=[].concat(e),n=s.length,o=i||{};if(n){var l=s.shift();o[l]=a(s,t,o[l])}return n?o:t},c=Object.keys(l).filter(/./.test.bind(new RegExp("^abs[A-Z]")));if(c.length){var p={},h=["locale"];for(i=0,s=c.length;i<s;i++){var d=c[i].replace(/^abs([A-Z])/,r).replace(/([A-Z])/g,"-$1").toLowerCase(),u=d.split("-");if(u[0]&&1<u.length&&-1!==h.indexOf(u[0])){for(var f=[u.shift()],g="",m=0;m<u.length;m++)g+=0===m?u[m]:u[m].charAt(0).toUpperCase()+u[m].slice(1);f.push(g),u=f}this.log(this.LOG_DEBUG,'Processing data attribute "data-abs-'+d+'":',l[c[i]]),a(u,l[c[i]],p)}this.options=w.extend(!0,{},this.options,p),this.log(this.LOG_DEBUG,"Merged in the data attribute options: ",p,this.options)}if(this.selectpicker=l.selectpicker,!this.selectpicker)return this.log(this.LOG_ERROR,"Cannot instantiate an AjaxBootstrapSelect instance without selectpicker first being initialized!"),null;if(!this.options.ajax.url)return this.log(this.LOG_ERROR,'Option "ajax.url" must be set! Options:',this.options),null;if(this.locale=w.extend(!0,{},w.fn.ajaxSelectPicker.locale),this.options.langCode=this.options.langCode||k.navigator.userLanguage||k.navigator.language||"en",!this.locale[this.options.langCode]){var v=this.options.langCode;this.options.langCode="en";var b=v.split("-");for(i=0,s=b.length;i<s;i++){var x=b.join("-");if(x.length&&this.locale[x]){this.options.langCode=x;break}b.pop()}this.log(this.LOG_WARNING,'Unknown langCode option: "'+v+'". Using the following langCode instead: "'+this.options.langCode+'".')}this.locale[this.options.langCode]=w.extend(!0,{},this.locale[this.options.langCode],this.options.locale),this.list=new k.AjaxBootstrapSelectList(this),this.list.refresh(),setTimeout(function(){n.init()},500)};e.prototype.init=function(){var s,n=this;this.options.preserveSelected&&this.selectpicker.$menu.off("click",".actions-btn").on("click",".actions-btn",function(e){n.selectpicker.options.liveSearch?n.selectpicker.$searchbox.focus():n.selectpicker.$button.focus(),e.preventDefault(),e.stopPropagation(),w(this).is(".bs-select-all")?(null===n.selectpicker.$lis&&(n.selectpicker.$lis=n.selectpicker.$menu.find("li")),n.$element.find("option:enabled").prop("selected",!0),w(n.selectpicker.$lis).not(".disabled").addClass("selected")):(null===n.selectpicker.$lis&&(n.selectpicker.$lis=n.selectpicker.$menu.find("li")),n.$element.find("option:enabled").prop("selected",!1),w(n.selectpicker.$lis).not(".disabled").removeClass("selected")),n.selectpicker.render(),n.selectpicker.$element.change()}),this.selectpicker.$searchbox.attr("placeholder",this.t("searchPlaceholder")).off("input propertychange"),this.selectpicker.$searchbox.on(this.options.bindEvent,function(e){var t=n.selectpicker.$searchbox.val();if(n.log(n.LOG_DEBUG,'Bind event fired: "'+n.options.bindEvent+'", keyCode:',e.keyCode,e),n.options.cache||(n.options.ignoredKeys[13]="enter"),n.options.ignoredKeys[e.keyCode])n.log(n.LOG_DEBUG,"Key ignored.");else if(t.length<n.options.minLength)n.list.setStatus(n.t("statusTooShort"));else if(clearTimeout(s),t.length||(n.options.clearOnEmpty&&n.list.destroy(),n.options.emptyRequest)){if(n.previousQuery=n.query,n.query=t,n.options.cache&&13!==e.keyCode){var i=n.list.cacheGet(n.query);if(i)return n.list.setStatus(i.length?"":n.t("statusNoResults")),n.list.replaceOptions(i),void n.log(n.LOG_INFO,"Rebuilt options from cached data.")}s=setTimeout(function(){n.lastRequest&&n.lastRequest.jqXHR&&w.isFunction(n.lastRequest.jqXHR.abort)&&n.lastRequest.jqXHR.abort(),n.request=new k.AjaxBootstrapSelectRequest(n),n.request.jqXHR.always(function(){n.lastRequest=n.request,n.request=!1})},n.options.requestDelay||300)}})},e.prototype.log=function(e,t){if(k.console&&this.options.log){if("number"!=typeof this.options.log)switch("string"==typeof this.options.log&&(this.options.log=this.options.log.toLowerCase()),this.options.log){case!0:case"debug":this.options.log=this.LOG_DEBUG;break;case"info":this.options.log=this.LOG_INFO;break;case"warn":case"warning":this.options.log=this.LOG_WARNING;break;default:case!1:case"error":this.options.log=this.LOG_ERROR}if(e<=this.options.log){var i=[].slice.apply(arguments,[2]);switch(e){case this.LOG_DEBUG:e="debug";break;case this.LOG_INFO:e="info";break;case this.LOG_WARNING:e="warn";break;default:case this.LOG_ERROR:e="error"}var s="["+e.toUpperCase()+"] AjaxBootstrapSelect:";"string"==typeof t?i.unshift(s+" "+t):(i.unshift(t),i.unshift(s)),k.console[e].apply(k.console,i)}}},e.prototype.replaceValue=function(i,s,n,o){var l=this;o=w.extend({recursive:!0,depth:!1,limit:!1},o),w.each(i,function(e,t){return!(!1!==o.limit&&"number"==typeof o.limit&&o.limit<=0)&&void(w.isArray(i[e])||w.isPlainObject(i[e])?(o.recursive&&!1===o.depth||o.recursive&&"number"==typeof o.depth&&0<o.depth)&&l.replaceValue(i[e],s,n,o):t===s&&(!1!==o.limit&&"number"==typeof o.limit&&o.limit--,i[e]=n))})},e.prototype.t=function(e,t){return t=t||this.options.langCode,this.locale[t]&&this.locale[t].hasOwnProperty(e)?this.locale[t][e]:(this.log(this.LOG_WARNING,"Unknown translation key:",e),e)},k.AjaxBootstrapSelect=k.AjaxBootstrapSelect||e;var t=function(i){var s=this;this.$status=w(i.options.templates.status).hide().appendTo(i.selectpicker.$menu);var e=i.t("statusInitialized");e&&e.length&&this.setStatus(e),this.cache={},this.plugin=i,this.selected=[],this.title=null,this.selectedTextFormat=i.selectpicker.options.selectedTextFormat;var n=[];i.$element.find("option").each(function(){var e=w(this),t=e.attr("value");n.push({value:t,text:e.text(),class:e.attr("class")||"",data:e.data()||{},preserved:i.options.preserveSelected,selected:!!e.attr("selected")})}),this.cacheSet("",n),i.options.preserveSelected&&(s.selected=n,i.$element.on("change.abs.preserveSelected",function(e){var t=i.$element.find(":selected");s.selected=[],i.selectpicker.multiple||(t=t.last()),t.each(function(){var e=w(this),t=e.attr("value");s.selected.push({value:t,text:e.text(),class:e.attr("class")||"",data:e.data()||{},preserved:!0,selected:!0})}),s.replaceOptions(s.cacheGet(s.plugin.query))}))};t.prototype.build=function(e){var t,i,s=e.length,n=w("<select/>"),o=w("<optgroup/>").attr("label",this.plugin.t("currentlySelected"));for(this.plugin.log(this.plugin.LOG_DEBUG,"Building the select list options from data:",e),i=0;i<s;i++){var l=e[i],r=w("<option/>").appendTo(l.preserved?o:n);if(l.hasOwnProperty("divider"))r.attr("data-divider","true");else for(t in r.val(l.value).text(l.text).attr("title",l.text),l.class.length&&r.attr("class",l.class),l.disabled&&r.attr("disabled",!0),l.selected&&!this.plugin.selectpicker.multiple&&n.find(":selected").prop("selected",!1),l.selected&&r.attr("selected",!0),l.data)l.data.hasOwnProperty(t)&&r.attr("data-"+t,l.data[t])}o.find("option").length&&o["before"===this.plugin.options.preserveSelectedPosition?"prependTo":"appendTo"](n);var a=n.html();return this.plugin.log(this.plugin.LOG_DEBUG,a),a},t.prototype.cacheGet=function(e,t){var i=this.cache[e]||t;return this.plugin.log(this.LOG_DEBUG,"Retrieving cache:",e,i),i},t.prototype.cacheSet=function(e,t){this.cache[e]=t,this.plugin.log(this.LOG_DEBUG,"Saving to cache:",e,t)},t.prototype.destroy=function(){this.replaceOptions(),this.plugin.list.setStatus(),this.plugin.log(this.plugin.LOG_DEBUG,"Destroyed select list.")},t.prototype.refresh=function(e){this.plugin.selectpicker.$menu.css("minHeight",0),this.plugin.selectpicker.$menu.find("> .inner").css("minHeight",0);var t=this.plugin.t("emptyTitle");!this.plugin.$element.find("option").length&&t&&t.length?this.setTitle(t):(this.title||"static"!==this.selectedTextFormat&&this.selectedTextFormat!==this.plugin.selectpicker.options.selectedTextFormat)&&this.restoreTitle(),this.plugin.selectpicker.refresh(),this.plugin.selectpicker.findLis(),e&&(this.plugin.log(this.plugin.LOG_DEBUG,"Triggering Change"),this.plugin.$element.trigger("change.$")),this.plugin.log(this.plugin.LOG_DEBUG,"Refreshed select list.")},t.prototype.replaceOptions=function(e){var t,i,s,n="",o=[],l=[],r=[];if(e=e||[],this.selected&&this.selected.length){for(this.plugin.log(this.plugin.LOG_INFO,"Processing preserved selections:",this.selected),i=(l=[].concat(this.selected,e)).length,t=0;t<i;t++)(s=l[t]).hasOwnProperty("value")&&-1===r.indexOf(s.value+"")?(r.push(s.value+""),o.push(s)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring.");e=o}e.length&&(n=this.plugin.list.build(e)),this.plugin.$element.html(n),this.refresh(),this.plugin.log(this.plugin.LOG_DEBUG,"Replaced options with data:",e)},t.prototype.restore=function(){var e=this.plugin.list.cacheGet(this.plugin.previousQuery);return e&&this.plugin.list.replaceOptions(e)&&this.plugin.log(this.plugin.LOG_DEBUG,"Restored select list to the previous query: ",this.plugin.previousQuery),this.plugin.log(this.plugin.LOG_DEBUG,"Unable to restore select list to the previous query:",this.plugin.previousQuery),!1},t.prototype.restoreTitle=function(){this.plugin.request||(this.plugin.selectpicker.options.selectedTextFormat=this.selectedTextFormat,this.title?this.plugin.$element.attr("title",this.title):this.plugin.$element.removeAttr("title"),this.title=null)},t.prototype.setTitle=function(e){this.plugin.request||(this.title=this.plugin.$element.attr("title"),this.plugin.selectpicker.options.selectedTextFormat="static",this.plugin.$element.attr("title",e))},t.prototype.setStatus=function(e){(e=e||"").length?this.$status.html(e).show():this.$status.html("").hide()},k.AjaxBootstrapSelectList=k.AjaxBootstrapSelectList||t;var i=function(e){var t,i=this,s=function(e){return function(){i.plugin.log(i.plugin.LOG_INFO,"Invoking AjaxBootstrapSelectRequest."+e+" callback:",arguments),i[e].apply(i,arguments),i.callbacks[e]&&(i.plugin.log(i.plugin.LOG_INFO,"Invoking ajax."+e+" callback:",arguments),i.callbacks[e].apply(i,arguments))}},n=["beforeSend","success","error","complete"],o=n.length;for(this.plugin=e,this.options=w.extend(!0,{},e.options.ajax),this.callbacks={},t=0;t<o;t++){var l=n[t];this.options[l]&&w.isFunction(this.options[l])&&(this.callbacks[l]=this.options[l]),this.options[l]=s(l)}this.options.data&&w.isFunction(this.options.data)&&(this.options.data=this.options.data.apply(this)||{q:"{{{q}}}"}),this.plugin.replaceValue(this.options.data,"{{{q}}}",this.plugin.query),this.jqXHR=w.ajax(this.options)};i.prototype.beforeSend=function(e){this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusSearching"))},i.prototype.complete=function(e,t){if("abort"!==t){var i=this.plugin.list.cacheGet(this.plugin.query);if(i){if(!i.length)return this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusNoResults")),void this.plugin.log(this.plugin.LOG_INFO,"No results were returned.");this.plugin.list.setStatus()}this.plugin.list.refresh(!0)}},i.prototype.error=function(e,t,i){"abort"!==t&&(this.plugin.list.cacheSet(this.plugin.query),this.plugin.options.clearOnError&&this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("errorText")),this.plugin.options.restoreOnError&&(this.plugin.list.restore(),this.plugin.list.setStatus()))},i.prototype.process=function(e){var t,i,s,n,o,l,r=[],a=[];if(this.plugin.log(this.plugin.LOG_INFO,"Processing raw data for:",this.plugin.query,e),o=e,w.isFunction(this.plugin.options.preprocessData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking preprocessData callback:",this.plugin.options.processData),null!=(s=this.plugin.options.preprocessData.apply(this,[o]))&&!1!==s&&(o=s)),!w.isArray(o))return this.plugin.log(this.plugin.LOG_ERROR,'The data returned is not an Array. Use the "preprocessData" callback option to parse the results and construct a proper array for this plugin.',o),!1;for(i=o.length,t=0;t<i;t++)n=o[t],this.plugin.log(this.plugin.LOG_DEBUG,"Processing item:",n),w.isPlainObject(n)&&(n.hasOwnProperty("divider")||n.hasOwnProperty("data")&&w.isPlainObject(n.data)&&n.data.divider?(this.plugin.log(this.plugin.LOG_DEBUG,"Item is a divider, ignoring provided data."),r.push({divider:!0})):n.hasOwnProperty("value")?-1===a.indexOf(n.value+"")?(a.push(n.value+""),n=w.extend({text:n.value,class:"",data:{},disabled:!1,selected:!1},n),r.push(n)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring."):this.plugin.log(this.plugin.LOG_DEBUG,'Data item must have a "value" property, skipping.'));if(l=[].concat(r),w.isFunction(this.plugin.options.processData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking processData callback:",this.plugin.options.processData),null!=(s=this.plugin.options.processData.apply(this,[l]))&&!1!==s)){if(!w.isArray(s))return this.plugin.log(this.plugin.LOG_ERROR,"The processData callback did not return an array.",s),!1;l=s}return this.plugin.list.cacheSet(this.plugin.query,l),this.plugin.log(this.plugin.LOG_INFO,"Processed data:",l),l},i.prototype.success=function(e,t,i){if(!w.isArray(e)&&!w.isPlainObject(e))return this.plugin.log(this.plugin.LOG_ERROR,"Request did not return a JSON Array or Object.",e),void this.plugin.list.destroy();var s=this.process(e);this.plugin.list.replaceOptions(s)},k.AjaxBootstrapSelectRequest=k.AjaxBootstrapSelectRequest||i,w.fn.ajaxSelectPicker=function(e){return this.each(function(){w(this).data("AjaxBootstrapSelect")||w(this).data("AjaxBootstrapSelect",new k.AjaxBootstrapSelect(this,e))})},w.fn.ajaxSelectPicker.locale={},w.fn.ajaxSelectPicker.defaults={ajax:{url:null,type:"POST",dataType:"json",data:{q:"{{{q}}}"}},minLength:0,bindEvent:"keyup",cache:!0,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!1,ignoredKeys:{9:"tab",16:"shift",17:"ctrl",18:"alt",27:"esc",37:"left",39:"right",38:"up",40:"down",91:"meta"},langCode:null,locale:null,log:"error",preprocessData:function(){},preserveSelected:!0,preserveSelectedPosition:"after",processData:function(){},requestDelay:300,restoreOnError:!1,templates:{status:'<div class="status"></div>'}},w.fn.ajaxSelectPicker.locale["en-US"]={currentlySelected:"Currently Selected",emptyTitle:"Select and begin typing",errorText:"Unable to retrieve results",searchPlaceholder:"Search...",statusInitialized:"Start typing a search query",statusNoResults:"No Results",statusSearching:"Searching...",statusTooShort:"Please enter more characters"},w.fn.ajaxSelectPicker.locale.en=w.fn.ajaxSelectPicker.locale["en-US"]}(jQuery,window);